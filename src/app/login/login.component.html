<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&display=swap');

  body {
    overflow: hidden;
    margin: 0;
    padding: 0;
  }

  /* Futuristic Background */
  .futuristic-bg {
    background: radial-gradient(ellipse at 50% 50%, #1a237e 0%, #0d1b5e 50%, #000428 100%);
    position: relative;
    overflow: hidden;
  }

  /* Animated Stars */
  .star {
    position: absolute;
    background: white;
    border-radius: 50%;
    animation: twinkle 2s infinite;
  }
  .star-1 { width: 2px; height: 2px; top: 15%; left: 25%; animation-delay: 0s; }
  .star-2 { width: 1px; height: 1px; top: 35%; left: 45%; animation-delay: 0.5s; }
  .star-3 { width: 2px; height: 2px; top: 55%; left: 75%; animation-delay: 1s; }
  .star-4 { width: 1px; height: 1px; top: 75%; left: 35%; animation-delay: 1.5s; }
  .star-5 { width: 2px; height: 2px; top: 25%; left: 65%; animation-delay: 0.3s; }
  .star-6 { width: 1px; height: 1px; top: 45%; left: 85%; animation-delay: 0.8s; }
  .star-7 { width: 2px; height: 2px; top: 65%; left: 15%; animation-delay: 1.2s; }
  .star-8 { width: 1px; height: 1px; top: 85%; left: 55%; animation-delay: 0.6s; }
  .star-9 { width: 2px; height: 2px; top: 20%; left: 80%; animation-delay: 0.2s; }
  .star-10 { width: 1px; height: 1px; top: 50%; left: 20%; animation-delay: 1.7s; }

  @keyframes twinkle {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
  }

  /* Orbit Circles */
  .circle-orbit {
    position: absolute;
    border: 2px solid rgba(138, 43, 226, 0.3);
    border-radius: 50%;
    animation: pulse-ring 4s infinite;
  }
  .circle-1 {
    width: 350px;
    height: 350px;
    top: 15%;
    right: 12%;
    animation-delay: 0s;
  }
  .circle-2 {
    width: 250px;
    height: 250px;
    top: 40%;
    right: 18%;
    animation-delay: 1.3s;
  }
  .circle-3 {
    width: 180px;
    height: 180px;
    top: 30%;
    right: 10%;
    animation-delay: 2.6s;
  }

  @keyframes pulse-ring {
    0%, 100% {
      transform: scale(1);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.08);
      opacity: 0.6;
    }
  }

  /* 3D Bank Icon */
  .bank-3d {
    position: absolute;
    top: 18%;
    right: 14%;
    width: 220px;
    height: 220px;
    background: linear-gradient(135deg, rgba(147, 51, 234, 0.35), rgba(79, 70, 229, 0.4));
    border: 3px solid rgba(167, 139, 250, 0.5);
    backdrop-filter: blur(12px);
    animation: float-3d 6s ease-in-out infinite;
    box-shadow: 0 0 50px rgba(147, 51, 234, 0.6), 0 0 100px rgba(147, 51, 234, 0.3);
  }

  @keyframes float-3d {
    0%, 100% {
      transform: translateY(0) rotateY(0deg);
    }
    50% {
      transform: translateY(-25px) rotateY(10deg);
    }
  }

  /* Currency Symbols */
  .currency-float {
    position: absolute;
    color: rgba(167, 139, 250, 0.4);
    font-size: 2.5rem;
    font-weight: bold;
    animation: orbit-currency 10s linear infinite;
  }
  .currency-1 { top: 12%; right: 18%; animation-delay: 0s; }
  .currency-2 { top: 48%; right: 6%; animation-delay: 3.3s; }
  .currency-3 { top: 70%; right: 20%; animation-delay: 6.6s; }

  @keyframes orbit-currency {
    0%, 100% {
      transform: translate(0, 0) rotate(0deg);
      opacity: 0.3;
    }
    50% {
      transform: translate(30px, -30px) rotate(180deg);
      opacity: 0.7;
    }
  }

  /* Glass Card */
  .glass-card {
    background: linear-gradient(135deg, rgba(88, 28, 135, 0.45), rgba(109, 40, 217, 0.35)) !important;
    backdrop-filter: blur(25px);
    border: 2px solid rgba(167, 139, 250, 0.35) !important;
    box-shadow: 0 12px 48px rgba(109, 40, 217, 0.5),
    inset 0 0 30px rgba(147, 51, 234, 0.15) !important;
  }

  /* Logo Glow */
  .logo-glow {
    background: linear-gradient(135deg, rgba(147, 51, 234, 0.4), rgba(109, 40, 217, 0.5));
    border: 2px solid rgba(255, 255, 255, 0.6);
    box-shadow: 0 0 35px rgba(147, 51, 234, 0.8);
    animation: glow-pulse 2.5s infinite;
  }

  @keyframes glow-pulse {
    0%, 100% {
      box-shadow: 0 0 25px rgba(147, 51, 234, 0.6);
    }
    50% {
      box-shadow: 0 0 45px rgba(147, 51, 234, 1);
    }
  }

  /* Glass Inputs */
  .input-glass {
    background: rgba(255, 255, 255, 0.12) !important;
    border: 2px solid rgba(167, 139, 250, 0.35) !important;
    color: white !important;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
  }

  .input-glass::placeholder {
    color: rgba(255, 255, 255, 0.5) !important;
  }

  .input-glass:focus {
    background: rgba(255, 255, 255, 0.18) !important;
    border-color: rgba(167, 139, 250, 0.8) !important;
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.5) !important;
    color: white !important;
    outline: none;
  }

  /* Futuristic Button */
  .btn-futuristic {
    background: linear-gradient(135deg, #5b21b6, #4338ca) !important;
    border: none !important;
    box-shadow: 0 0 35px rgba(99, 102, 241, 0.7) !important;
    position: relative;
    overflow: hidden;
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 2px;
    transition: all 0.3s ease;
  }

  .btn-futuristic::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: 0.5s;
  }

  .btn-futuristic:hover:not(:disabled)::before {
    left: 100%;
  }

  .btn-futuristic:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 0 50px rgba(99, 102, 241, 0.9) !important;
  }

  .btn-futuristic:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Glow Link */
  .link-glow {
    color: rgba(196, 181, 253, 0.9) !important;
    text-shadow: 0 0 12px rgba(147, 51, 234, 0.6);
    transition: all 0.3s ease;
  }

  .link-glow:hover {
    color: white !important;
    text-shadow: 0 0 20px rgba(147, 51, 234, 1);
  }

  /* Bank Title */
  .title-bank {
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 3px;
    text-shadow: 0 0 25px rgba(147, 51, 234, 0.9);
  }

  /* Error Alert */
  .error-futuristic {
    background: rgba(220, 38, 38, 0.2);
    border: 2px solid rgba(248, 113, 113, 0.5);
    backdrop-filter: blur(10px);
    color: #fecaca;
    animation: shake 0.5s;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
    20%, 40%, 60%, 80% { transform: translateX(8px); }
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .bank-3d {
      width: 180px;
      height: 180px;
      right: 8%;
      top: 20%;
    }

    .circle-1 { width: 280px; height: 280px; }
    .circle-2 { width: 200px; height: 200px; }
    .circle-3 { width: 140px; height: 140px; }
  }

  @media (max-width: 768px) {
    .login-form-wrapper {
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    .bank-3d,
    .circle-orbit,
    .currency-float {
      display: none;
    }

    .glass-card {
      width: 90% !important;
      max-width: 380px !important;
    }
  }
</style>

<div class="vh-100 w-100 position-relative futuristic-bg">
  <!-- Animated Stars -->
  <div class="star star-1"></div>
  <div class="star star-2"></div>
  <div class="star star-3"></div>
  <div class="star star-4"></div>
  <div class="star star-5"></div>
  <div class="star star-6"></div>
  <div class="star star-7"></div>
  <div class="star star-8"></div>
  <div class="star star-9"></div>
  <div class="star star-10"></div>

  <!-- Animated Orbit Circles -->
  <div class="circle-orbit circle-1"></div>
  <div class="circle-orbit circle-2"></div>
  <div class="circle-orbit circle-3"></div>

  <!-- 3D Floating Bank Icon -->
  <div class="bank-3d rounded-4 d-flex justify-content-center align-items-center">
    <i class="bi bi-bank2 text-white"
       style="font-size: 6rem; filter: drop-shadow(0 0 15px rgba(255,255,255,0.6));"></i>
  </div>

  <!-- Floating Currency Symbols -->
  <div class="currency-float currency-1">€</div>
  <div class="currency-float currency-2">$</div>
  <div class="currency-float currency-3">£</div>

  <!-- Login Form Container -->
  <div class="position-absolute top-50 start-0 translate-middle-y ms-5 ps-5 login-form-wrapper">
    <div class="card glass-card border-0 shadow-lg" style="width: 380px;">
      <div class="card-body p-5">

        <!-- Bank Logo -->
        <div class="logo-glow rounded-circle mx-auto mb-4 d-flex justify-content-center align-items-center"
             style="width: 85px; height: 85px;">
          <i class="bi bi-bank text-white"
             style="font-size: 2.8rem; filter: drop-shadow(0 0 8px rgba(255,255,255,0.9));"></i>
        </div>

        <!-- Title -->
        <h2 class="title-bank text-white text-center fw-bold mb-4" style="font-size: 2rem;">
          BANK
        </h2>

        <!-- Error Alert -->
        <div class="error-futuristic rounded-3 p-3 mb-3 d-flex align-items-center"
             *ngIf="errorMessage">
          <i class="bi bi-exclamation-triangle-fill me-3" style="font-size: 1.4rem;"></i>
          <span>{{ errorMessage }}</span>
        </div>

        <!-- Login Form avec ngModel -->
        <form #loginFormRef="ngForm" (ngSubmit)="onSubmit()">

          <!-- Customer ID / Email -->
          <div class="mb-3">
            <input
              type="email"
              name="email"
              class="form-control input-glass py-3 px-4"
              placeholder="Customer ID"
              [(ngModel)]="credentials.email"
              required
              email
              autocomplete="username"
              #emailInput="ngModel">
          </div>

          <!-- Password -->
          <div class="mb-4">
            <input
              type="password"
              name="password"
              class="form-control input-glass py-3 px-4"
              placeholder="Password"
              [(ngModel)]="credentials.password"
              required
              minlength="4"
              autocomplete="current-password"
              #passwordInput="ngModel">
          </div>

          <!-- Login Button -->
          <button
            type="submit"
            class="btn btn-futuristic text-white w-100 py-3 fw-bold"
            [disabled]="loginFormRef.invalid || loading">
            <span *ngIf="loading"
                  class="spinner-border spinner-border-sm me-2"
                  role="status">
            </span>
            {{ loading ? 'SIGNING IN...' : 'Login' }}
          </button>

          <!-- Forgot Password Link -->
          <a href="#"
             class="link-glow d-block text-center text-decoration-none mt-3 fw-semibold">
            Forgot Pin / Password?
          </a>

        </form>
      </div>
    </div>
  </div>
</div>
