<div class="container mt-4">

  <!-- Loading -->
  <div *ngIf="loading" class="text-center my-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-2">Chargement...</p>
  </div>

  <!-- Error -->
  <div *ngIf="errorMessage && !loading" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Client info -->
  <div *ngIf="!loading && client" class="card mb-4">
    <div class="card-header">
      <strong>Customer : ID nÂ°{{ client.id }}</strong>
    </div>
    <div class="card-body">
      <h5 class="mb-1">{{ client.nom }}</h5>
      <p class="text-muted mb-0">{{ client.email }}</p>
    </div>
  </div>

  <!-- Accounts -->
  <div *ngIf="!loading && comptes.length > 0" class="card">
    <div class="card-header">
      <strong>Accounts</strong>
    </div>

    <div class="table-responsive">
      <table class="table mb-0">
        <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Type</th>
          <th>Balance</th>
          <th></th>
        </tr>
        </thead>

        <tbody>
        <tr *ngFor="let compte of comptes">
          <td class="small text-monospace">{{ compte.id }}</td>
          <td>
            {{ compte.type === 'CurrentAccount' ? 'CurrentAccount' : 'SavingAccount' }}
          </td>
          <td>
            {{ compte.balance | number:'1.2-2' }} DH
          </td>
          <td>
            <button class="btn-info"
                    (click)="viewDetails(compte)">
              Detail
            </button>
          </td>
        </tr>
        </tbody>

      </table>
    </div>
  </div>

</div>
